var gridMasonry;(function($,win){"use strict";var $win,winWidth,winHeight,$popupPanel,$popupContent,$popupLink,$closePopup,offset,offset_opacity,scroll_top_duration,$back_to_top,categories_check,iframePDF,itemProduct,itemProject,itemRelated,itemAlbumNav;var init=function(){$win=$(win);offset=38;offset_opacity=1200;scroll_top_duration=700;$back_to_top=$('.cd-top');categories_check=[];iframePDF=$('.slider-pf-for').find('iframe');$popupPanel=$(".popup-panel");$popupContent=$(".popup-content");$popupLink=$(".popup-link");$closePopup=$(".close-popup");$win.on("load resize",function(){winWidth=window.innerWidth;winHeight=window.innerHeight;iframePDF.css({"height":winHeight-120+"px"});itemProduct=$('.product');itemProject=$('.project');itemRelated=$('.block-slider-item.slick-slide');itemAlbumNav=$('.slider-album__item.slick-slide');fixHeightItem(itemProduct);fixHeightItem(itemProject);fixHeightItem(itemRelated);fixHeightItem(itemAlbumNav);fixedHeader();widthColFilterForm()});$(document).click(function(e){if(!$("#bs-navbar").is(e.target)&&$("#bs-navbar").has(e.target).length===0){$('nav.collapse').collapse('hide')}});pageload();popupFn();smoothScroll();backtotopShow();scrollDiscover();scrollBar();subscribe();subcribeSubmit();mainMenu();fixedHeader();mainSlider();bannerSlider();blockSlider();categoriesSlider();productSlider();projectSlider();profileSlider();timelineSlider();map();rating();sidebar();imgLoad();gridLightBox();navcatTab();filterForm();pagination();faqSearch()};function pageload(){$(".page_load").fadeOut("slow")};function popupFn(){$popupContent.hide();$popupPanel.hide();$popupLink.click(function(e){e.preventDefault();$popupContent.hide();var target=$(this).attr("data-target");var $popupTarget=$('.popup-content[data-content="'+target+'"]');$popupTarget.parent('.popup-panel').fadeIn(100);$popupTarget.show()});$closePopup.click(function(){$popupPanel.fadeOut(100)})};function smoothScrollLink(e){e.preventDefault();var $this=$(this),href=$this.attr("href"),$target=$((href=="#"||href==""||!href)?"html":href),position=$target.offset().top;$('a').each(function(){$this.removeClass('active')})
$this.addClass('active');$("body, html").animate({"scrollTop":position},500)};var smoothScroll=function(){$('a[href^="#"]').on('click',smoothScrollLink)};function fixedHeader(){var $header_mobile=$('.navbar');var $top=$('.top');var $header=$('header');$(window).scroll(function(){($(this).scrollTop()>offset)?$header.addClass('padding_head'):$header.removeClass('padding_head');($(this).scrollTop()>offset)?$header_mobile.addClass('fixed'):$header_mobile.removeClass('fixed');($(this).scrollTop()>offset)?$top.addClass('fixed'):$top.removeClass('fixed')})};function backtotopShow(){$(window).scroll(function(){($(this).scrollTop()>offset)?$back_to_top.addClass('cd-is-visible'):$back_to_top.removeClass('cd-is-visible cd-fade-out');if($(this).scrollTop()>offset_opacity){$back_to_top.addClass('cd-fade-out')}})};function scrollDiscover(){$(".scroll-cat").click(function(){$('html,body').animate({scrollTop:$(".scroll-target").offset().top},'slow');e.preventDefault()})};function scrollBar(){$('.scrollbar-outer').scrollbar()};function mainMenu(){if($(window).width()<768){$(".dropdown-nav").hide();$(".button-dropdown.active").next(".dropdown-nav").show();$(".button-dropdown").click(function(){var $dropdownNav=$(this).next("ul.dropdown-nav");if($dropdownNav.is(":visible")==!0){$dropdownNav.stop().slideUp();$(this).removeClass('active')}else{$dropdownNav.stop().slideDown();$(this).addClass('active')}})}};function mainSlider(){$('.slider-main-group').slick({dots:!0,infinite:!0,autoplay:!0,speed:500,fade:!0,cssEase:'linear',responsive:[{breakpoint:480,settings:{arrows:!1}}]})};function bannerSlider(){$('.slider-banner').slick({dots:!1,arrows:!0,infinite:!0,autoplay:!0,speed:500,fade:!0,cssEase:'linear',responsive:[{breakpoint:768,settings:{arrows:!1,dots:!0}},{breakpoint:480,settings:{arrows:!1,dots:!0,adaptiveHeight:!0}}]})};function blockSlider(){$(".block-slider").slick({dots:!1,infinite:!0,slidesToShow:6,slidesToScroll:1,responsive:[{breakpoint:1200,settings:{slidesToShow:5,slidesToScroll:1}},{breakpoint:991,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:820,settings:{dots:!0,arrows:!1,slidesToShow:4,slidesToScroll:1}},{breakpoint:680,settings:{dots:!0,arrows:!1,slidesToShow:3,slidesToScroll:1}},{breakpoint:600,settings:{dots:!0,arrows:!1,slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{dots:!0,arrows:!1,slidesToShow:2,slidesToScroll:1}}]})};function categoriesSlider(){$(".categories-slider").slick({dots:!1,infinite:!0,slidesToShow:3,slidesToScroll:1,centerMode:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{slidesToShow:5,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:380,settings:{slidesToShow:3,slidesToScroll:1}}]})};function productSlider(){$('.slider-for').on("init.slick",function(event,slick){zoomProduct()});$('.slider-for').slick({infinite:!0,mobileFirst:!0,adaptiveHeight:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,centerMode:!0,fade:!0,asNavFor:'.slider-nav'}).on('afterChange',function(event,slick,currentSlide){zoomProduct()});$('.slider-nav').slick({slidesToShow:4,slidesToScroll:1,asNavFor:'.slider-for',dots:!1,arrows:!0,vertical:!0,verticalSwiping:!0,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1,vertical:!1}},{breakpoint:768,settings:{slidesToShow:4,slidesToScroll:1,vertical:!0}},{breakpoint:620,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:481,settings:{slidesToShow:4,slidesToScroll:1,vertical:!1}}]});$('.slider-for').slickLightbox({slick:{itemSelector:'a',navigateByKeyboard:!0,}})};function zoomProduct(){var zoomEle=$(".zoom.slick-active img.zoom-img");$.removeData(zoomEle,'elevateZoom');$('.zoomContainer').remove();winWidth=window.innerWidth;if(winWidth>=1024){zoomEle.elevateZoom({zoomWindowWidth:535,zoomWindowHeight:535,zoomWindowOffetx:25,zoomWindowOffety:-13,zoomWindowPosition:1,lensSize:500,borderSize:1,scrollZoom:!1})}};function projectSlider(){$('.slider-project-for').slick({infinite:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,centerMode:!0,fade:!0,asNavFor:'.slider-project-nav'});$('.slider-project-nav').slick({slidesToShow:4,slidesToScroll:1,asNavFor:'.slider-project-for',dots:!1,arrows:!0,vertical:!0,verticalSwiping:!0,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1,vertical:!1}},{breakpoint:768,settings:{slidesToShow:4,slidesToScroll:1,vertical:!0}},{breakpoint:620,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:481,settings:{slidesToShow:3,slidesToScroll:1,vertical:!1}}]});$('.slider-project-for').slickLightbox({slick:{itemSelector:'a',navigateByKeyboard:!0,}});$(".slider-project-for").click(function(){var $lbcontent=$(this).find(".slick-current").children(".lightbox-content").html();$(".slick-lightbox-slick-item-inner").append($lbcontent)})};function profileSlider(){$('.slider-pf-nav').slick({slidesToShow:6,slidesToScroll:1,dots:!1,arrows:!0,focusOnSelect:!0,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:620,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:481,settings:{slidesToShow:1,slidesToScroll:1}}]});$('.slider-profile__item').add('.slider-pf-nav button.slick-arrow').on('click',function(){loadPDF()})};function loadPDF(){var itemCurrent=$('.slider-profile__item.slick-current a');var pathPDF=itemCurrent.attr('path');var linkFull=itemCurrent.attr('href');$('#view_full_pdf').attr('href',linkFull);$('#view_pdf').attr('src',pathPDF)};function timelineSlider(){$(".timeline-slider").slick({dots:!1,arrows:!0,infinite:!0,slidesToShow:3,slidesToScroll:1,centerMode:!0,adaptiveHeight:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:767,settings:{arrows:!1,dots:!0,slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{arrows:!1,dots:!0,slidesToShow:1,slidesToScroll:1}},{breakpoint:380,settings:{arrows:!1,dots:!0,slidesToShow:1,slidesToScroll:1}}]})};function addContentLightBox(lbEl){var $lbEl=$(lbEl);$lbEl.click(function(){var $lbcontent=$(this).find(".lightbox-content").html();$(".slick-lightbox-slick-item-inner").append($lbcontent)})};function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)};function subscribeKeyup(){$('.btn_subscribe').prop('disabled',!0);$(".email_subscribe").keyup(function(){var value=$(this).val();if((value!="")&&(validateEmail(value))){$('.btn_subscribe').prop('disabled',!1)}else{$('.btn_subscribe').prop('disabled',!0)}})};function subscribe(){$(".subscribable__title").click(function(){$(this).parents('.subscribable').toggleClass('active');$('.fb-wrap, .fb-chat-live').removeClass('active');subscribeKeyup()})};function subcribeSubmit(){$('#btn_subscribe').click(function(){var form=$(this).closest('form');var url=form.attr('action');var name=$('#subscribe_name').val();var email=$('#subscribe_email').val();if(email){$(this).prop('disabled',!0);$.ajax({url:url,type:'POST',data:{_token:window.laravel_token,name:name,email:email},}).done(function(res){toastr.success(res.message);form[0].reset()})}else{toastr.error('Please enter an email')}
return!1})};function rating(){$('input.rating').rating()};function sidebar(){$(".button-sidebar__open").click(function(){$(".sidebar").slideDown();$(this).hide()});$(".button-sidebar__close").click(function(){$(".sidebar").slideUp();$(".button-sidebar__open").show()})};function masonryGrid(){gridMasonry=$('.grid').masonry({itemSelector:'.grid-item',columnWidth:'.grid-sizer',gutter:5})};function imgLoad(){$("img").one("load",function(){masonryGrid()}).each(function(){if(this.complete)$(this).load()})};function gridLightBox(){$('.grid').slickLightbox({slick:{itemSelector:'a',navigateByKeyboard:!0,dots:!1,infinite:!0,centerMode:!0,slidesToShow:1,slidesToScroll:1,mobileFirst:!0,}});$('body').on('click','.grid-item',function(){$(this).parents('.tab-pane').find('.grid-item').each(function(){var el=$(this),content=el.find(".lightbox-content");$('[data-slick-index="'+(el.index()-1).toString()+'"]').find($('.slick-lightbox-slick-item-inner')).append(content.html())})})
$('body').on('click','.lightbox-title .link',function(e){e.preventDefault();e.stopPropagation();var href=$(this).data('href');window.open(href);return!1})};function navcatTab(){$(".nav-cat__tab").click(function(){$(".nav-cat__tab").removeClass("active");$(this).addClass("active")})};function filterForm(){$(".filter-select-box .icon_close").hide();$(".filter-option-box").hide();$(".f-select").click(function(){var $this=$(this);var target=$(this).attr("data-target");var isUp=$this.next('i').hasClass('up');if(isUp){$this.next('i').removeClass('up')}else{$(".f-select").next('i').removeClass('up');$this.next('i').addClass('up')}
$(".filter-option-box").not($('.filter-option-box[data-content="'+target+'"]')).fadeOut();$('.filter-option-box[data-content="'+target+'"]').fadeToggle()});$(".arrow_triangle-down").click(function(){var target=$(this).prev().attr("data-target");$(this).toggleClass('up');$(".filter-option-box").not($('.filter-option-box[data-content="'+target+'"]')).fadeOut();$('.filter-option-box[data-content="'+target+'"]').fadeToggle()});$(".f-option dt").click(function(){var filter_option_box=$(this).parents('.filter-option-box');var filter_select_box=filter_option_box.prev('.filter-select-box');var f_select=filter_select_box.children(".f-select");var f_select_input=filter_select_box.children(".f-select-input");var arrow_triangle=filter_select_box.children('.arrow_triangle-down');var icon_close=filter_select_box.children('.filter-select-box .icon_close');$(".f-option dt").removeClass("selected");$(this).addClass("selected");var text=$(this).children('span').html();var _value=$(this).attr('val');f_select.text(text);f_select_input.val(_value);var inputval=f_select_input.val();filter_select_box.addClass('active');filter_option_box.fadeOut();arrow_triangle.hide();icon_close.show()});$(".filter-select-box .icon_close").click(function(){var arrow_triangle=$(this).prev(".arrow_triangle-down");var f_select=arrow_triangle.prev(".f-select");var properties=f_select.attr("data-properties");var filter_select_box=f_select.parent();var filter_option_box=filter_select_box.next();filter_option_box.fadeOut();filter_select_box.removeClass('active');f_select.text(properties);arrow_triangle.removeClass('up');arrow_triangle.show();$(this).hide()});$('.clearform').click(function(e){e.preventDefault();$('.f-select').each(function(){var properties=$(this).attr("data-properties");$(this).text(properties)});$('.filter-option-box').fadeOut();$('.filter-select-box').removeClass('active');$('.arrow_triangle-down').removeClass('up');$('.arrow_triangle-down').show();$('.filter-select-box .icon_close').hide()});var inputFile=$('.input-file');inputFile.change(function(){console.log(this.value);if(this.value==null||this.value==""){$(this).prev('i').removeClass('font-color-brand');console.log($(this).prev('i'))}else{$(this).prev('i').addClass('font-color-brand')}})};function widthColFilterForm(){var numCol=$('.col-filter-box').length;var widthRow=$('.row-filter-box').width();var widthCol=(widthRow-numCol*12)/numCol;$('.col-filter-box').css('width',widthCol)}
function faqSearch(){$('#faq-text-search').bind('keyup change',function(ev){var searchTerm=$(this).val();$("body.faq_page .tab-content").unhighlight();if(searchTerm){$("body.faq_page .tab-content").highlight(searchTerm,{accentInsensitive:!0})}})};function pagination(){$('ul.pagination li.active').prev().addClass('show-mobile').prev().addClass('show-mobile');$('ul.pagination li.active').next().addClass('show-mobile').next().addClass('show-mobile');$('ul.pagination').find('li:first-child, li:last-child, li.active').addClass('show-mobile')};function map(){$(".cat-item a").click(function(){categories_check=[];$(this).parent("li").toggleClass("active");$(this).next("input").click();jQuery('li.cat-item').each(function(){if(jQuery(this).hasClass('active')){categories_check.push(jQuery(this).data('id'))}});window.updateRegionList();return!1})};window.updateRegionList=function(){console.log('updateRegionList');if(categories_check.length){var pattern=categories_check.join('|');var re=new RegExp(pattern,"i");var categories_item=!1;jQuery('.list-store .item').each(function(){categories_item=jQuery(this).data('categories');if(!re.test(categories_item)){jQuery(this).hide()}else{jQuery(this).show()}})}else{jQuery('.list-store .item').show()}
updateRegionValid()}
function updateRegionValid(){var regionListItem=null;jQuery('li.has-child').each(function(){regionListItem=jQuery(this);regionListItem.show();if(!jQuery('li.item',regionListItem).is(':visible')){regionListItem.hide()}})};function fixHeightItem(item){var $item=$(item);var $itemWidth=$item.width();$item.css('height',$itemWidth)};$(function(){init()})})(jQuery,window)